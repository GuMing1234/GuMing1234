### 一.栈与递归的思路处理表达式求值问题
[表达式求值_牛客题霸_牛客网](https://www.nowcoder.com/practice/c215ba61c8b1443b996351df929dc4d4?tpId=383&tqId=1076787&sourceUrl=%2Fexam%2Foj&dayCountBigMember=365%E5%A4%A9)
**问题分析：** 
* 本题要解决的问题有两个
* 处理好乘与加的优先级问题，处理好括号的优先级问题。
**处理思路：** 
- 我们可以将减法变为加负数，这样就只有加与乘
- 我们使用两个栈，一个用来记录数字，最后将栈中的所有数字相加得到答案。
- 对括号的处理思路，我们将同级括号中的内容放到solve里面递归处理答案。
- 对于乘法的处理，如果见到了乘法，就直接和上一个数相乘，满足先乘后加的思路。
思路梳理完毕，接下来我们来用代码实现。
```cpp
class Solution {

public:

//本题使用栈与递归的处理思路
    int solve(string s) {
        stack<int> sta; //记录待加的数字
        char sign='+'; //记录上一个符号
        int num=0; //记录当前数字
        for(int i=0;i<s.size();i++){
            //先处理有括号的情况,括号里的用递归处理，我们默认最后是好多数进行加减乘除。
            if(s[i]>='0'&&s[i]<='9'){
                num=num*10+(s[i]-'0'); //得到多位数的值
            }
            else if(s[i]=='('){
                int j=i+1;
                int bracket=1; //计算括号的优先级，看有几层嵌套。
                while(bracket>0&&j<s.size()){
                    if(s[j]=='(') bracket++;
                    else if(s[j]==')') bracket--;
                    j++;
                }
                string str = s.substr(i+1,j-i-2);
                num=solve(str);
                i=j-1; //更新i的值
            }
            if (s[i]=='+'||s[i]=='-'||s[i]=='*'||i==s.size()-1) {
                if(sign=='+') sta.push(num);
                else if(sign=='-') sta.push(-num);
                else if(sign=='*'){
                    int tem=sta.top();
                    sta.pop();
                    sta.push(tem*num);
                }
                if(s[i]=='*'||s[i]=='+'||s[i]=='-')  sign=s[i];
                num=0;
            }
        }
        int res=0;
        while(!sta.empty())
            res+=sta.top();
            sta.pop();
        }
        return res;
    }
};
```
 